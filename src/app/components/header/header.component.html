<ion-header>
  <ion-toolbar color="primary">
    <!-- Logo (SIN CLICK) -->
    <h1 slot="start" style="margin: 0;">
      ğŸ RACING
    </h1>

    <!-- NavegaciÃ³n en desktop -->
    <ion-buttons slot="end" class="desktop-nav">
      <a (click)="goToHome()" class="nav-link">Inicio</a>
      <a (click)="goToJackets()" class="nav-link">Chaquetas</a>
      <a (click)="goToAccessories()" class="nav-link">Accesorios</a>
    </ion-buttons>

    <!-- Botones segÃºn estado -->
    <ion-buttons slot="end" class="action-buttons">
      <!-- âœ… GUEST (No autenticado) -->
      <ng-container *ngIf="!isLoggedIn">
        <ion-button (click)="goToLogin()" color="light">
          Iniciar SesiÃ³n
        </ion-button>
        <ion-button (click)="goToRegister()" color="light" fill="outline">
          Registrarse
        </ion-button>
      </ng-container>

      <!-- âœ… USER (Autenticado, no admin) -->
      <ng-container *ngIf="isLoggedIn && !isAdmin">
        <ion-button (click)="goToCart()" color="light">
          ğŸ›’ Carrito
        </ion-button>
        <ion-button (click)="goToProfile()" color="light">
          ğŸ‘¤ Perfil
        </ion-button>
        <ion-button color="light" (click)="logout()">
          Salir
        </ion-button>
      </ng-container>

      <!-- âœ… ADMIN -->
      <ng-container *ngIf="isAdmin">
        <ion-button [routerLink]="['/admin']" color="danger">
          âš™ï¸ Admin
        </ion-button>
        <ion-button (click)="goToAdminUsers()" color="danger">
          ğŸ‘¥ Usuarios
        </ion-button>
        <ion-button (click)="goToProfile()" color="light">
          ğŸ‘¤ Perfil
        </ion-button>
        <ion-button color="light" (click)="logout()">
          Salir
        </ion-button>
      </ng-container>
    </ion-buttons>

    <!-- MenÃº mÃ³vil -->
    <ion-buttons slot="end" class="mobile-menu-btn">
      <ion-button (click)="toggleMobileMenu()">
        <ion-icon name="menu"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>

  <!-- MenÃº mÃ³vil desplegable -->
  <ion-toolbar *ngIf="isMobileMenuOpen" color="light" class="mobile-menu">
    <ion-buttons vertical="true">
      <a (click)="goToHome(); isMobileMenuOpen = false" class="mobile-nav-link">Inicio</a>
      <a (click)="goToJackets(); isMobileMenuOpen = false" class="mobile-nav-link">Chaquetas</a>
      <a (click)="goToAccessories(); isMobileMenuOpen = false" class="mobile-nav-link">Accesorios</a>
      
      <div class="mobile-divider"></div>

      <!-- GUEST -->
      <ng-container *ngIf="!isLoggedIn">
        <a (click)="goToLogin(); isMobileMenuOpen = false" class="mobile-nav-link">Iniciar SesiÃ³n</a>
        <a (click)="goToRegister(); isMobileMenuOpen = false" class="mobile-nav-link">Registrarse</a>
      </ng-container>

      <!-- USER -->
      <ng-container *ngIf="isLoggedIn && !isAdmin">
        <a (click)="goToCart(); isMobileMenuOpen = false" class="mobile-nav-link">ğŸ›’ Carrito</a>
        <a (click)="goToProfile(); isMobileMenuOpen = false" class="mobile-nav-link">ğŸ‘¤ Perfil</a>
      </ng-container>

      <!-- ADMIN -->
      <ng-container *ngIf="isAdmin">
        <a [routerLink]="['/admin']" class="mobile-nav-link" (click)="isMobileMenuOpen = false">âš™ï¸ Admin</a>
        <a (click)="goToAdminUsers(); isMobileMenuOpen = false" class="mobile-nav-link">ğŸ‘¥ Usuarios</a>
        <a (click)="goToProfile(); isMobileMenuOpen = false" class="mobile-nav-link">ğŸ‘¤ Perfil</a>
      </ng-container>

      <div class="mobile-divider"></div>
      <a class="mobile-nav-link logout" (click)="logout(); isMobileMenuOpen = false" *ngIf="isLoggedIn">
        Cerrar SesiÃ³n
      </a>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
